{%- for block in section.blocks -%}
  <div class="footer__item footer__item--{{ block.type | replace: '_', '-' }} {% if forloop.first %}is-first{% endif %}" {{ block.shopify_attributes }}>
    {%- if block.type == 'image' and block.settings.image != blank -%}
      <div class="footer__item-content">
        {{ block.settings.image | image_url: width: block.settings.image.width | image_tag: loading: 'lazy', style: 'width: ' | append: block.settings.image_width | append: 'px;', widths: '100,200,300,400,500,600', class: 'footer__image' }}
      </div>
    {%- elsif block.type == 'text' -%}
      {%- if block.settings.title != blank -%}
        <p class="footer__item-title heading heading--small">{{ block.settings.title | escape }}</p>
      {%- endif -%}
      {%- if block.settings.content != blank -%}
        <div class="footer__item-content">{{ block.settings.content }}</div>
      {%- endif -%}
    {%- elsif block.type == 'links' and block.settings.menu != blank -%}
      <p class="footer__item-title heading heading--small">{{ block.settings.menu.title }}</p>
      <div class="footer__item-content">
        <ul class="linklist list--unstyled" role="list">
          {%- for link in block.settings.menu.links -%}
            <li class="linklist__item"><a href="{{ link.url }}" class="link--faded">{{ link.title }}</a></li>
          {%- endfor -%}
        </ul>
      </div>
    {%- elsif block.type == 'social_media' -%}
      {%- if block.settings.title != blank -%}
        <p class="footer__item-title heading heading--small">{{ block.settings.title | escape }}</p>
      {%- endif -%}
      <div class="footer__item-content">
        {{ block.settings.content }}
        {%- render 'social-media' -%}
      </div>
    {%- elsif block.type == 'newsletter' -%}
      {%- if block.settings.title != blank -%}
        <p class="footer__item-title heading heading--small">{{ block.settings.title | escape }}</p>
      {%- endif -%}
      <div class="footer__item-content">
        {{ block.settings.content }}

        <!-- ✅ Extra Links above newsletter form -->
        <ul class="footer__extra-links linklist list--unstyled" role="list" style="margin: 10px 0; text-align: center;">
          <li class="linklist__item"><a href="/about" class="link--faded">About Us</a></li>
          <li class="linklist__item"><a href="/faq" class="link--faded">FAQ</a></li>
          <li class="linklist__item"><a href="/contact" class="link--faded">Contact</a></li>
        </ul>

        <!-- ✅ Newsletter form -->
        {%- form 'customer', id: 'footer-newsletter', class: 'footer__newsletter-form form' -%}
          {%- if form.posted_successfully? -%}
            <div class="form__banner banner banner--success">
              <span class="banner__ribbon">{% render 'icon' with 'form-success' %}</span>
              <p class="banner__content">{{ 'footer.newsletter.success' | t }}</p>
            </div>
          {%- else -%}
            {%- if form.errors -%}
              <div class="form__banner banner banner--error">
                <span class="banner__ribbon">{% render 'icon' with 'form-error' %}</span>
                <p class="banner__content">{{ form.errors.translated_fields['email'] }} {{ form.errors.messages['email'] }}</p>
              </div>
            {%- endif -%}

            <input type="hidden" name="contact[tags]" value="newsletter">

            <div class="input" style="max-width: 300px; margin: 0 auto;">
              <input type="email" id="footer[contact][email]" name="contact[email]" class="input__field input__field--text" placeholder="Your email" style="padding: 6px 8px; font-size: 13px;">
              <button type="submit" class="input__submit-icon tap-area" title="{{ 'footer.newsletter.submit' | t }}" style="padding: 4px;">
                {% render 'icon' with 'nav-arrow-right', direction_aware: true %}
              </button>
            </div>
          {%- endif -%}
        {%- endform -%}
      </div>
    {%- endif -%}
  </div>
{%- endfor -%}
